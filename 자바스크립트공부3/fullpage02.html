<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>풀페이지 실습01</title>
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <link href="css/reset.css" rel="stylesheet">
    <style>
        .content {height:100vh;}
        section {position:relative;background:#fff;height:100vh;background:url(img/pbg04.jpg) center center/cover;background-attachment: fixed;}
        section h2 {position:absolute;height:0;width:0;overflow:hidden;}
        .sound {position:absolute;top:0;left:0;height:0;width:0;overflow:hidden;}
        
        header {position:fixed;top:30px;left:30px;z-index:1}
        nav {position:fixed;top:50%;right:30px;transform:translateY(-50%);width:100px;overflow:hidden;z-index:1}
        nav ul {background:transparent;}
        nav ul li {position:relative;text-indent:-9999px;}
        nav ul li a {display:block;background:transparent;}
        nav ul li:after {content:"";display:block;width:20px;height:1px;background:#333;position:absolute;top:50%;right:0;transition:0.3s;}
        nav ul li.oo:after {width:40px;}
        #p01 {background:url(img/pbg01.jpg) center center/cover;}
        #p02 {background:url(img/pbg02.jpg) center center/cover;}
        #p03 {background:url(img/pbg03.jpg) center center/cover;}
    </style>
</head>
<body>
    <header>
        <h1>lee's portfolio</h1>
    </header>
    <nav>
        <ul>
            <li><a href="#intro">intro</a></li>
            <li><a href="#p01">portfolio1</a></li>
            <li><a href="#p02">portfolio2</a></li>
            <li><a href="#p03">portfolio3</a></li>
            <li><a href="#about">about me</a></li>
        </ul>
    </nav>
    <span class="sound">lee's portfolio</span>
    <section id="intro" class="content">
        <h2>intro</h2>
        <div class="intro"><span>나는 바보다. </span></div>
    </section>
    <section id="p01" class="content">
        <h2>portfolio</h2>
        <div><span>나는 바보다. </span></div>
    </section>
    <section id="p02" class="content">
        <h2>portfolio</h2>
        <div><span>나는 바보다. </span></div>
    </section>
    <section id="p03" class="content">
        <h2>portfolio</h2>
        <div><span>나는 바보다. </span></div>
    </section>
    <section id="about" class="content">
        <h2>about</h2>
        <div><span>나는 바보다. </span></div>
    </section>
    <footer>
        
    </footer>
    <script>
        var typed = new Typed('.intro', {
  strings: ["First sentence.", "Second sentence."],
  typeSpeed: 30
});      
        $(function(){
            //

      
            
$("nav a, .menubg a").click(function(e){
	e.preventDefault();
	$("html,body").stop().animate({scrollTop:$(this.hash).offset().top},500);
	$(this).parent().addClass("oo").siblings().removeClass("oo");
	$("header>div").toggleClass("oo");
	$(".menubg").fadeOut();
});

$("header>div").click(function(){
	$(this).toggleClass("oo");
	$(".menubg").fadeToggle();
});

var bbq=$(".content");
var lli=$("nav li");
var logo=$("header>h1");
bbq.eq(0).addClass("oo");
lli.eq(0).addClass("oo");

bbq.each(function(index){
	var $this=$(this);
	var $this_top=$this.offset().top;	
	$(window).on("scroll",function(e){
	e.preventDefault();
	var wc=$(window).scrollTop();		
		if(wc > $this_top - 100){
			$this.addClass("oo").siblings().removeClass("oo");
			lli.eq(index).addClass("oo").siblings().removeClass("oo");
			index==1||index==3 ? logo.css({color:"#ddd"}) : logo.css({color:"#333"});
		}		
	});
	var bhc=$(this).next().offset().top;
	var gyo=$(this).prev().offset().top;
	$this.on("mousewheel",function(e){
	e.preventDefault();
	console.log(event.wheelDelta);
	event.wheelDelta<0 ? delTa=bhc : delTa=gyo;
	function delta() {$("html,body").stop().animate({scrollTop:delTa},1100,"easeInOutExpo");}
	setTimeout(delta,200);
});
});
            
        });
    </script>
</body>
</html>