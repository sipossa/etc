<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>svg애니메이션</title>
    <link rel="stylesheet" href="css/reset.css">
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <style>
        header>h1 {position:fixed;top:50px;left:50px;z-index:222;font-family: 'Noto Serif KR', serif;color:#333;font-size:18px;}
        header>nav {position:fixed;top:50%;transform:translateY(-50%);right:50px;width:100px;height:120px;z-index:333;}
        header>nav li a {display:block;text-indent:-9999px;position:relative;line-height:16px;}
        header>nav li a:after {content:"";display:block;width:20px;height:1px;background:#8e735b;position:absolute;top:10px;right:0;transition:0.2s}
        header>nav li.oo a:after {width:40px;}

        header>div:nth-child(2) {width:30px;height:30px;position:fixed;top:50px;right:50px;cursor:pointer;z-index:333;}
        header>div>span {display:block;height:1px;width:30px;background:#8e735b;position:absolute;transition:.5s;}
        header>div>span:nth-child(1){top:0px;opacity:1;}
        header>div>span:nth-child(2){top:10px;}
        header>div>span:nth-child(3){top:10px;}
        header>div>span:nth-child(4){top:20px;opacity:1;}

        header>div.oo>span:nth-child(1){top:0px;opacity:0;}
        header>div.oo>span:nth-child(2){top:10px;transform:rotate(45deg)}
        header>div.oo>span:nth-child(3){top:10px;transform:rotate(-45deg)}
        header>div.oo>span:nth-child(4){top:20px;opacity:0;}

        .menubg {display:none;position:fixed;top:0;left:0;width:100%;height:calc(100vh - 25px);background:rgba(255,255,255,0.9);z-index:222;}
        .menubg ul {position:absolute;top:50%;left:50%;width:250px;transform:translate(-50%,-50%);}
        .menubg ul a{display:block;font-size:20px;font-weight:100;line-height:50px;position:relative;letter-spacing:0.2em;}
        .menubg ul a:after {content:"";display:block;position:absolute;top:23px;right:0;width:5px;height:5px;background:#8e735b;border-radius:100%;}
        .content {height:100vh;background:url(img/pbg04.jpg) center center/cover;background-attachment:fixed;position:relative}
        .con_m {width:1000px;position:absolute;top:-1000px;left:-1000px;width:1000px;height:1000px;overflow:hidden;transform:scale(0.2);transition:0.3s}
        .content.oo .con_m {top:0;left:0;;transform:scale(1)}
        .con_m path {fill:#fff;opacity:0.2;animation:svgani 4.5s infinite}   
        .con_m path:nth-child(1) {transform:translate(-40px,-40px) scale(1.1)}
        .con_m path:nth-child(2) {transform:translate(-20px,-20px) scale(1.05)}
        .con_m path:nth-child(3) {opacity:1;}
        
        .con_m:after {content:"^^*";display:block;width:100px;height:100px;text-align:center;line-height:100px;background:#ff0;border-radius:50%;opacity:0.5;position:absolute;top:20%;right:220px;animation:won 2.5s infinite}
        .btn {position:fixed;top:20%;left:220px;width:100px;height:100px;text-align:center;line-height:100px;border-radius:50%;background:#f00;color:#fff;cursor:pointer}
        
        @keyframes svgani{
            0% {d:path("M786.486,500.5c0,71.012-25.836,135.988-68.621,186.043C665.32,748.018,587.211,786.986,500,786.986c-81.902,0-155.776-34.368-207.988-89.47C243.357,646.17,213.514,576.82,213.514,500.5c0-83.08,35.365-157.9,91.863-210.229c51.098-47.328,119.482-76.256,194.623-76.256c76.005,0,145.097,29.598,196.379,77.896	C751.853,344.155,786.486,418.283,786.486,500.5z");}
            50% {d:path("M786.486,500.5c0,71.012-5.123,177.524-47.908,227.579C686.033,789.554,587.211,758.077,500,758.077c-81.902,0-171.187,28.104-223.398-26.998c-48.654-51.347-63.087-154.259-63.087-230.579c0-83.08,6.59-162.57,63.087-214.899c51.098-47.328,140.849-37.498,215.989-37.498c76.005,0,169.866-10.016,221.148,38.282	C769.213,338.63,786.486,418.283,786.486,500.5z");}
            100% {d:path("M786.486,500.5c0,71.012-25.836,135.988-68.621,186.043C665.32,748.018,587.211,786.986,500,786.986c-81.902,0-155.776-34.368-207.988-89.47C243.357,646.17,213.514,576.82,213.514,500.5c0-83.08,35.365-157.9,91.863-210.229c51.098-47.328,119.482-76.256,194.623-76.256c76.005,0,145.097,29.598,196.379,77.896	C751.853,344.155,786.486,418.283,786.486,500.5z");}
        }
        
        @keyframes won{
            0%{transform:scale(0.3)}
            50%{transform:scale(1)}
            100%{transform:scale(0.3)}
        }
    </style>

</head>
<body>
<header>
   <h1>lee's portfolio</h1>
    <nav>
        <ul>
            <li><a href="#main_movie01">menu01</a></li>
            <li><a href="#main_movie02">menu02</a></li>
            <li><a href="#main_movie03">menu03</a></li>
            <li><a href="#main_movie04">menu04</a></li>
            <li><a href="#main_movie05">menu05</a></li>
        </ul>
    </nav>
</header>
<section id="main_movie01" class="content">
    <div class="con_m">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="1000px" height="1000px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                     <defs>
                <mask id="photo-mask">
        <path d=""/>
        <path d=""/>
        <path d=""/>
                </mask>
                </defs>  
                <image mask="url(#photo-mask)" xlink:href="img/pbg01.jpg"/>
        </svg>
    </div>
</section>
<section id="main_movie02" class="content">
     <div class="con_m">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="1000px" height="1000px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                     <defs>
                <mask id="photo-mask">
        <path d=""/>
        <path d=""/>
        <path d=""/>
                </mask>
                </defs>  
                <image mask="url(#photo-mask)" xlink:href="img/pbg02.jpg"/>
        </svg>
    </div>
</section>
<section id="main_movie03" class="content">
    <div class="con_m">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="1000px" height="1000px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                     <defs>
                <mask id="photo-mask">
        <path d=""/>
        <path d=""/>
        <path d=""/>
                </mask>
                </defs>  
                <image mask="url(#photo-mask)" xlink:href="img/pbg03.jpg"/>
        </svg>
    </div>
</section>
<section id="main_movie04" class="content">
    <div class="con_m">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="1000px" height="1000px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                     <defs>
                <mask id="photo-mask">
        <path d=""/>
        <path d=""/>
        <path d=""/>
                </mask>
                </defs>  
                <image mask="url(#photo-mask)" xlink:href="img/pbg01.jpg"/>
        </svg>
    </div>
</section>
<section id="main_movie05" class="content">
    <div class="con_m">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="1000px" height="1000px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                     <defs>
                <mask id="photo-mask">
        <path d=""/>
        <path d=""/>
        <path d=""/>
                </mask>
                </defs>  
                <image mask="url(#photo-mask)" xlink:href="img/pbg02.jpg"/>
        </svg>
    </div>
</section>

<footer>
    copyright &copy; lee.
</footer>
<script>
$(function(){
        $(".btn").on("click",function(){
            $(".con_m").toggleClass("oo");
        });
$("nav a, .menubg a").click(function(e){
	e.preventDefault();
	$("html,body").stop().animate({scrollTop:$(this.hash).offset().top},500);
	$(this).parent().addClass("oo").siblings().removeClass("oo");
	$("header>div").toggleClass("oo");
	$(".menubg").fadeOut();
});

$("header>div").click(function(){
	$(this).toggleClass("oo");
	$(".menubg").fadeToggle();
});

var bbq=$(".content");
var lli=$("nav li");
var logo=$("header>h1");
var con=$(".con_m");
bbq.eq(0).addClass("oo");
lli.eq(0).addClass("oo");

bbq.each(function(index){
	var $this=$(this);
	var $this_top=$this.offset().top;	
	$(window).on("scroll",function(e){
	e.preventDefault();
	var wc=$(window).scrollTop();		
		if(wc > $this_top - 100){
			$this.addClass("oo").siblings().removeClass("oo");
			lli.eq(index).addClass("oo").siblings().removeClass("oo");
            //con.eq(index).addClass("oo").siblings().removeClass("oo");
			index==1||index==3 ? logo.css({color:"#ddd"}) : logo.css({color:"#333"});
		}		
	});
	var bhc=$(this).next().offset().top;
	var gyo=$(this).prev().offset().top;
	$this.on("mousewheel",function(e){
	e.preventDefault();
	console.log(event.wheelDelta);
	event.wheelDelta<0 ? delTa=bhc : delTa=gyo;
	function delta() {$("html,body").stop().animate({scrollTop:delTa},1100,"easeInOutExpo");}
	setTimeout(delta,200);
});
});
});
</script>
</body>
</html>