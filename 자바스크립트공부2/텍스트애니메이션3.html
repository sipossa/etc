<!doctype html>
<html>
<head>
<title>text</title>
<style>
#main {background:#369;color:#fff;width:0;overflow:hidden;write-space:nowrap;height:20px;}
#arry {font-size:100px;}
.bar {height:20px;width:0;background:#f00;margin-top:20px;}
</style>
<script src="http://code.jquery.com/jquery-1.12.4.js"></script>
</head>
<body>

<div id="main">text animation</div>
<div id="arry"></div>

<ul>
	<li class="bar"></li>
	<li class="bar"></li>
	<li class="bar"></li>
</ul>

<script>
const text=document.querySelector("#main");
const dArry=document.querySelector("#arry");
const Bar=document.querySelectorAll("li");
const BBq=[50,70,100];


var a=0;
function bbq() {
 dArry.innerHTML= a ;
 text.style.width= a + "%";
  ++a;
if(a>100) {a=100;return false;}
}
setInterval(bbq,50);
    
//$("ul>li").each(function(i){
//    $(this).animate({width:BBq[i]+"%"},5000)
//});
 

let x=0;
//(function count(){
//    ++x;
//})();
setInterval(
    function count(index){
        ++x;
        [...Bar].forEach(function(idx,index){
        //idx.style.transition="1s";    
        idx.style.width=x + "%";
        for(index=0;index<1000;++index){
            if(x>BBq[index]) {x=BBq[index]}
            }
        });
    }
,50)
    
//x=0;   
//function count() {
//    ++x;
//    for(i=0;i<BBq.length;++i){
//        if(x>BBq[i]) {x=BBq[i];}
//        Bar[i].style.width= x + "%";  
//        
//    }
//}  
//setInterval(count,50);

//function cou(i){
//		Bar[i].style.width= BBq[i] + "%";
//    return false;
//}

//for(i=0;i<Bar.length;++i){
//	cou(i);	
//	//setInterval(cou,50);
//}




function textAni() {
 this.style.color="#fff";
 this.style.backgroundColor="red";
}

text.addEventListener("click",textAni);



</script>
</body>
</html>